# Stories.d
import { useState } from "react"; import { Card, CardContent } from "@/components/ui/card"; import { Button } from "@/components/ui/button"; import { Input } from "@/components/ui/input"; import { Textarea } from "@/components/ui/textarea"; import { motion } from "framer-motion";
export default function StorySharingApp() { const [stories, setStories] = useState([]); const [title, setTitle] = useState(""); const [content, setContent] = useState(""); const [author, setAuthor] = useState("");
const handleSubmit = async (e) => { e.preventDefault(); const newStory = { title, content, author, date: new Date().toISOString() };
try { const res = await fetch("/api/stories", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(newStory), }); if (res.ok) { const savedStory = await res.json(); setStories([savedStory, ...stories]); setTitle(""); setContent(""); setAuthor(""); } else { alert("Error submitting story."); } } catch (error) { console.error("Submission failed:", error); } 
};
return ( 

<motion.h1 initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6 }} className="text-3xl font-bold mb-6 text-center" > Share Your Story </motion.h1> <form onSubmit={handleSubmit} className="max-w-xl mx-auto space-y-4"> <Input placeholder="Story Title" value={title} onChange={(e) => setTitle(e.target.value)} required className="bg-gray-800 border-gray-700 text-white" /> <Textarea placeholder="Write your story..." value={content} onChange={(e) => setContent(e.target.value)} required rows={6} className="bg-gray-800 border-gray-700 text-white" /> <Input placeholder="Your Name (optional)" value={author} onChange={(e) => setAuthor(e.target.value)} className="bg-gray-800 border-gray-700 text-white" /> <Button type="submit" className="w-full bg-blue-600 hover:bg-blue-700"> Submit </Button> </form> <div className="mt-10 space-y-6"> {stories.map((story, idx) => ( <Card key={idx} className="bg-gray-800 border-gray-700"> <CardContent> <h2 className="text-xl font-semibold mb-2">{story.title}</h2> <p className="mb-2 text-gray-300 whitespace-pre-line">{story.content}</p> <p className="text-sm text-gray-500 text-right"> — {story.author || "Anonymous"}, {new Date(story.date).toLocaleString()} </p> </CardContent> </Card> ))} </div> </div> 
); }
